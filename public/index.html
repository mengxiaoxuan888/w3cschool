<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico">
  <title>
    <%= htmlWebpackPlugin.options.title %>
  </title>

  <link rel="stylesheet" href="/statics/css/common.css">
  <link rel="stylesheet" href="/statics/iconfont/iconfont.css">
  <link rel="stylesheet" href="/statics/css/w10.css">
</head>

<body>
  <noscript>
    <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
        Please enable it to continue.你的浏览器不支持JavaScript,请升级浏览器</strong>
  </noscript>
  <div id="app"></div>
  <!-- built files will be auto injected -->
</body>

</html>
<script src="/statics/js/jquery-1.8.3.min.js" type="text/javascript"></script>

<script src="/statics/js/ajaxdo.core.js" type="text/javascript"></script>
<script src="/statics/plugins/lrtk.js" type="text/javascript"></script>
<script>
  var apppath = "/";
  var domain = "//www.w3cschool.cn";
</script>
<script src="/statics/js/commonfooter.js" type="text/javascript"></script>
<script>
  var isscode = "false";
  $(function () {
    if (GET["action"] === "advice" && GET["from"] === "pc") {
      $("#elmaaa").val("PC端:");
      showDialogBox();
    }

    // 搜索下拉框
    var searchForm = $("#header .search-box-form");
    searchForm
      .find(".input")
      .on("focus", function () {
        searchForm.css("height", searchForm[0].scrollHeight);
      })
      .on("blur", function () {
        setTimeout(function () {
          searchForm.removeAttr("style");
        }, 240);
      });
    searchForm.find(".history-list-item").on("click", function () {
      window.location.href =
        "/search?w=" + window.encodeURIComponent(this.innerText);
    });

    // 极客教程 Tabs
    var tutorialLayerHeight = $(".tutorial-layer").position().top;
    $(".tutorial-tabs .tabs-tab").on("click", function () {
      var key = $(this).data("key");
      $(this).addClass("on").siblings().removeClass("on");
      if ($(this).data("key") === -1) {
        // 全部教程
        $(".tabs-panel .tutorial-project .project-name").parent().show();
      } else {
        $(".tabs-panel .tutorial-project[data-key=" + key + "] .project-name")
          .parent()
          .show()
          .siblings()
          .hide();
      }
      $(window).scrollTop(tutorialLayerHeight);
    });
  });

  // 获取元素到文档的距离：只对可见元素有效
  function getElementToPageTop(ele) {
    if (ele instanceof jQuery) ele = ele[0];

    if (ele.offsetParent && ele.offsetParent !== document.body) {
      return ele.offsetTop + getElementToPageTop(ele.offsetParent);
    }
    return ele.offsetTop;
  }

  function change_scode() {
    $("#scode-img").attr("src", "/scode?rand=" + new Date().getTime());
  }

  function DoSubmit() {
    if (checkLogin()) {
      $("#loginform")[0].submit();
    } else {
      return false;
    }
  }

  function checkLogin() {
    if ($("#username").val() == "") {
      toastr.warning("请输入用户名", "", { positionClass: "toast-top-center" });
      //toastr.warning('请输入手机号码','',{"positionClass": "toast-top-center"});
      return false;
    }
    if ($("#password").val() == "") {
      toastr.warning("请输入密码", "", { positionClass: "toast-top-center" });
      return false;
    }
    if ($("#scode").val() == "" && isscode == true) {
      toastr.warning("请输入验证码", "", { positionClass: "toast-top-center" });
      return false;
    }
    return true;
  }

  $(".recommend-list").on("click", ".collect", function () {
    var ename = $(this).attr("data-ename");
    $.ajaxdo({
      url: "/project/star/" + ename + ".html",
      type: "post",
      dataType: "json",
      data: {},
      success: function (data) {
        if (data.statusCode == 200) {
          toastr.success(data.message, "", { positionClass: "toast-top-center" });
        } else {
          toastr.warning(data.message, "", { positionClass: "toast-top-center" });
        }
      },
    });
  });

  $("#scode,#password").bind("keydown", function (e) {
    var e = e || event;
    var keyCode = e.keyCode;
    if (keyCode == 13) {
      DoSubmit();
    }
  });

  function submitSearch() {
    $(".search-box-form").submit();
  }
</script>